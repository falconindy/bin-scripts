#!/bin/bash

CC="gcc -std=c99 -pipe -Wall -pedantic"
CFLAGS="-O2"
SRC=/tmp/tmp$$.c
OUT=/tmp/tmp$$

cat > "$SRC" << EOF
#include <stdio.h>
#include <stdlib.h>

int main(void) {
$@
return 0;
}
EOF

$CC $CFLAGS $SRC -o "$OUT" && { "$OUT"; rm "$OUT"; }
rm "$SRC"

