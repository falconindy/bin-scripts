#!/bin/bash

REPOPATH=$HOME

while read repo; do
  cd ${repo}/..
  [[ $(git status -s | grep -v "^??" | wc -l) -gt 0 ]] && echo "${repo//.git}"
done < <(find $REPOPATH -type d -regex '.*\.git$')

